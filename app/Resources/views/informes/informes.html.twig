{% extends 'layout.html.twig' %}

{% block content %}
  <div class="container">
    <br>

    <br>
    {% block filters %}
    <!-- filtros aqui -->
    {% endblock %}
    <hr>
    <h3>Listado de todas las operaciones</h3>
    <hr>
    <div class="table-responsive" >
      <div id="toolbar">
        <button id="button1" hidden class="btn btn-default">filterBy</button>
      </div>
      <table  id="tablaOperaciones"
              class="table table-hover table-striped"
              data-toggle="table"
              data-show-header="true"
              data-height="700"
              data-side-pagination="server"
              data-pagination="true"
              data-page-list="[2, 5, 10, 20, 50, 100, 200]"
              data-url="{{path('informes_list')}}"
              >
        <thead>
          <tr>
            <th scope="row" data-field="tipo" data-sortable="true">Operacion</th>
            <th scope="row" data-field="oficinaOrigen" data-sortable="true">Origen</th>
            <th scope="row" data-field="oficinaDestino" data-sortable="true">Destino</th>
            <th scope="row" data-field="fecha.date" data-sortable="true">Fecha</th>
            <th data-field="id" data-formatter="operateFormatterShow">Ver Informe</th>
          </tr>
        </thead>
        <body>

        </body>
      </table>
  </div>
  <hr>
</div>

<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Art√≠culo</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <i class="fas fa-info-circle"></i> Se guardaron los cambios.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-dark" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>

{% endblock %}

{% block javascripts %}
{{ parent() }}
<script>


  function operateFormatterShow(value, row, index) {
    console.log(row.tipo);
    if (row.tipo == 'Transferencia') {
        edit = "/transferencia/ver_informe/-1";
    }else{
      edit = "/baja/ver_informe/-1";
    }
    edit = edit.replace('-1', value);
    return [
      `<a class="edit ml10" href="${edit}" title="Ver"><i class="far fa-file-alt"></i></a>`,
    ].join('');
  }


</script>
{% endblock %}
