{% extends 'layout.html.twig' %}

{% block content %}
  <div class="container">
    <br>
    <h2>Estados de Art√≠culos</h2>
    <hr>
    <div class="">
      <a class="btn btn-dark" href="{{ path('estado_new') }}">Agregar estado</a>
    </div>
    <br>
    <div class="table-responsive">
      <table  id="tablaEstados"
              class="table table-hover table-striped"
              data-toggle="table"
              data-height="700"
              data-side-pagination="server"
              data-pagination="true"
              data-page-list="[2, 5, 10, 20, 50, 100, 200]"
              data-url="{{ path('estado_list') }}"
              >
        <thead>
          <tr>
            <th scope="row" data-field="nombre" data-sortable="true">Nombre</th>
            <th scope="row" data-field="color" data-sortable="true">Color</th>
            <th scope="row" data-field="habilitado" data-sortable="true">Habilitado</th>
            <th data-field="id" data-formatter="operateFormatterShow">Ver</th>
            <th data-field="id" data-formatter="operateFormatterEdit">Editar</th>
          </tr>
        </thead>
      </table>
  </div>
</div>
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script>
  function operateFormatterShow(value, row, index) {
    show = "{{ path('estado_show', {id: -1})}}";
    show = show.replace('-1', value);
    return [
      `<a class="edit ml10" href="${show}" title="Ver"><i class="fas fa-search-plus"></i></a>`,
    ].join('');
  }
  function operateFormatterEdit(value, row, index) {
    edit = "{{ path('estado_edit', {id: -1})}}";
    edit = edit.replace('-1', value);
    return [
      `<a class="edit ml10" href="${edit}" title="Editar"><i class="fas fa-edit"></i></a>`,
    ].join('');
  }
  var $table = $('#tablaEstados');
</script>
{% endblock %}
